(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22c2ef"],{f1c1:function(a,t,e){"use strict";e.r(t);var o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("categorias-component")],1)},i=[],r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{attrs:{cols:"12"}},[e("p",{staticClass:"text-lg-h6 font-weight-bold blue-grey--text text--lighten-2"},[a._v(" Categorias ")])])],1),e("v-card",[e("v-card-title",[e("v-col",{attrs:{cols:"6",sm:"4"}},[e("v-row",[e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar Categoria","single-line":"","hide-details":""},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1)],1),e("v-spacer")],1),e("v-data-table",{attrs:{headers:a.cabeceras,"item-key":"categoria_id",items:a.categorias,search:a.search,"show-select":""},scopedSlots:a._u([{key:"item.actions",fn:function(t){var o=t.item;return[e("v-tooltip",{attrs:{top:""},scopedSlots:a._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[e("v-icon",a._g(a._b({staticClass:"mr-2",attrs:{medium:"",color:"#385F73"},on:{click:function(t){return a.modalCategoria(o)}}},"v-icon",r,!1),i),[a._v(" mdi-pencil ")])]}}],null,!0)},[e("span",[a._v("Editar")])])]}}],null,!0),model:{value:a.seleccionados,callback:function(t){a.seleccionados=t},expression:"seleccionados"}}),e("v-row",{attrs:{id:"actions-productos"}},[e("v-col",{attrs:{cols:"12",sm:"12",md:"12",align:"end"}},[a.seleccionados.length>0?e("v-btn",{staticClass:"mb-2 mr-md-2",attrs:{outlined:"",color:"#385F73",dark:""}},[a._v("ELIMINAR SELECCIONADOS ")]):a._e(),e("modal-aumento",{attrs:{categorias:a.categorias}}),e("v-btn",{staticClass:"mb-2 mr-md-2",attrs:{outlined:"",color:"#385F73",dark:""},on:{click:function(t){return a.$router.push("/productos")}}},[a._v("IR A PRODUCTOS ")]),e("modal-categoria",{attrs:{editable:a.editable,dialog:a.dialog,categoria:a.itemCategoria},on:{"cerrar-dialog":a.close,"agregar-categoria":function(t){return a.agregarCategoria(t)},"editar-categoria":function(t){return a.editarCategoria(t)}}}),a.categorias.length>0?e("v-btn",{staticClass:"mb-2 mr-md-2",attrs:{outlined:"",color:"#385F73",dark:""},on:{click:function(t){return a.exportar("categorias/exportar/"+a.negocio.negocio_id,"listado_categorias.pdf")}}},[a._v("EXPORTAR ")]):a._e()],1)],1)],1)],1)},c=[],n=(e("4160"),e("c975"),e("a434"),e("159b"),function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-dialog",{attrs:{"max-width":"500px",persistent:""},scopedSlots:a._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[e("v-btn",a._g(a._b({staticClass:"mb-2 mr-md-2",attrs:{outlined:"",color:"#385F73",dark:""},on:{click:function(t){return a.$refs.form.reset()}}},"v-btn",i,!1),o),[a._v("Nueva Categoria")])]}}]),model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[e("v-card",[e("v-tabs",{attrs:{"background-color":"transparent",color:"#385F73",grow:""},model:{value:a.tab,callback:function(t){a.tab=t},expression:"tab"}},[e("v-tab",{on:{click:function(t){a.tabImpor=!1}}},[a._v(a._s(a.editable?"MODIFICAR CATEGORIA":"NUEVA CATEGORIA"))])],1),e("v-tabs-items",{model:{value:a.tab,callback:function(t){a.tab=t},expression:"tab"}},[e("v-tab-item",[e("v-card",{attrs:{flat:""}},[e("v-form",{ref:"form"},[e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{staticClass:"pt-md-0",attrs:{cols:"12",sm:"12",md:"12"}},[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-text-field",{attrs:{label:"Nombre",color:"#385F73",placeholder:"nombre de la categoria",rules:a.obligatorio,outlined:"",dense:""},model:{value:a.itemCategoria.descripcion,callback:function(t){a.$set(a.itemCategoria,"descripcion",t)},expression:"itemCategoria.descripcion"}})],1)],1)],1)],1)],1)],1)],1),e("v-card-actions",{staticClass:"pt-md-0"},[e("v-spacer"),e("v-btn",{attrs:{color:"#385F73",text:""},on:{click:function(t){return a.$emit("cerrar-dialog")}}},[a._v("Cancelar")]),a.editable?e("v-btn",{attrs:{color:"#385F73",text:""},on:{click:a.editarCategoria}},[a._v("MODIFICAR")]):e("v-btn",{attrs:{color:"#385F73",text:""},on:{click:a.agregarCategoria}},[a._v("AGREGAR")])],1)],1)],1)],1)],1)],1)}),s=[],l={props:{categoria:{type:Object,default:{}},dialog:{type:Boolean},editable:{type:Boolean}},data:function(){return{model:null,tab:null,tabImpor:!1,obligatorio:[function(a){return!!a||"Este campo es requerido"}]}},methods:{agregarCategoria:function(){this.$refs.form.validate()&&(this.$emit("agregar-categoria",this.itemCategoria),this.dialog=!1)},editarCategoria:function(){this.$refs.form.validate()&&(this.dialog=!1,this.$emit("editar-categoria",this.itemCategoria))}},watch:{categoria:function(){this.$refs.form&&!this.editable&&this.$refs.form.reset()}},computed:{itemCategoria:function(){return this.categoria}}},d=l,u=e("2877"),g=e("6544"),m=e.n(g),f=e("8336"),v=e("b0af"),b=e("99d9"),h=e("62ad"),p=e("a523"),C=e("169a"),x=e("4bd4"),_=e("0fd9"),k=e("2fa4"),V=e("71a3"),w=e("c671"),E=e("fe57"),O=e("aac8"),$=e("8654"),A=Object(u["a"])(d,n,s,!1,null,null,null),F=A.exports;m()(A,{VBtn:f["a"],VCard:v["a"],VCardActions:b["a"],VCardText:b["c"],VCol:h["a"],VContainer:p["a"],VDialog:C["a"],VForm:x["a"],VRow:_["a"],VSpacer:k["a"],VTab:V["a"],VTabItem:w["a"],VTabs:E["a"],VTabsItems:O["a"],VTextField:$["a"]});var I=e("6c7b"),T={components:{ModalCategoria:F,ModalAumento:I["a"]},data:function(){return{dialog:!1,cabeceras:[{text:"Código",align:"center",sortable:!0,value:"codigo"},{text:"Descripción",value:"descripcion"},{text:"Actions",value:"actions",align:"center",sortable:!1}],categorias:[],search:"",indexEditable:-1,seleccionados:[],itemCategoria:{},defaultCategoria:{},options:[{text:"Productos Y Servicios",disabled:!1,href:"/productos"},{text:"Categorias",disabled:!0,href:""}]}},mounted:function(){this.cargarCategorias()},methods:{cargarCategorias:function(){var a=this;axios.get("categorias/negocio/".concat(this.negocio.negocio_id)).then((function(t){a.categorias=t.data.data})).catch((function(a){console.log(a)}))},agregarCategoria:function(a){var t=this;axios.post("categorias/nuevo",a).then((function(a){t.categorias.push(a.data.data),t.notificacion("Categoria agregada correctamente","success")}))},editarCategoria:function(a){var t=this;this.$swal({title:"¿Estas seguro que deseas modificarla?",showCancelButton:!0}).then((function(e){e.value&&(t.dialog=!1,axios.put("categorias/editar/".concat(a.categoria_id),a).then((function(a){Object.assign(t.categorias[t.indexEditable],a.data.data),t.notificacion("Categoria modificado correctamente","success"),t.close()})))}))},eliminarCategoria:function(a){var t=this;this.$swal({icon:"question",title:"¿Estas seguro que deseas eliminar esta categoria?",showCancelButton:!0}).then((function(e){e.value&&axios.put("categorias/eliminar/".concat(a.categoria_id)).then((function(e){var o=t.categorias.indexOf(a);t.categorias.splice(o,1),t.notificacion("Eliminado correctamente","success")})).catch((function(a){t.notificacion("Ha ocurrido un error al eliminar la categoria","error")}))}))},eliminarSeleccionados:function(){var a=this;this.$swal({icon:"question",title:"¿Estas seguro que deseas eliminar las categorias seleccionadas?",showCancelButton:!0}).then((function(t){t.value&&axios.put("categorias/eliminarCategorias",{marcas:JSON.stringify(a.seleccionados)}).then((function(t){a.seleccionados.forEach((function(t){return a.categorias.splice(a.categorias.indexOf(t),1)})),a.notificacion("Eliminadas correctamente","success")})).catch((function(t){a.notificacion("Ha ocurrido un error","error")}))}))},modalCategoria:function(a){this.indexEditable=this.categorias.indexOf(a),this.itemCategoria=Object.assign({},a),this.dialog=!0},close:function(){var a=this;this.dialog=!1,this.indexEditable=-1,this.$nextTick((function(){a.itemCategoria=Object.assign({},a.defaultCategoria)}))}},computed:{editable:function(){return this.indexEditable>-1}}},R=T,S=e("8fea"),y=e("132d"),B=e("3a2f"),j=Object(u["a"])(R,r,c,!1,null,null,null),D=j.exports;m()(j,{VBtn:f["a"],VCard:v["a"],VCardTitle:b["d"],VCol:h["a"],VDataTable:S["a"],VIcon:y["a"],VRow:_["a"],VSpacer:k["a"],VTextField:$["a"],VTooltip:B["a"]});var q={components:{CategoriasComponent:D}},N=q,M=Object(u["a"])(N,o,i,!1,null,null,null);t["default"]=M.exports}}]);
//# sourceMappingURL=chunk-2d22c2ef.55e1806d.js.map