(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b8bdcc76"],{"210b":function(t,e,o){},"2bfd":function(t,e,o){},"2fa1":function(t,e,o){"use strict";e["a"]={data:function(){return{nuevoProducto:{cantidad:1,producto:{},precio_unitario:0,bonificacion:0,monto_bonif:0,alicuota:{},monto_iva:0,subtotal_sin_iva:0,subtotal:0},nuevoProductoDefault:{cantidad:1,producto:{},precio_unitario:0,bonificacion:0,monto_bonif:0,alicuota:{},monto_iva:0,subtotal_sin_iva:0,subtotal:0}}},methods:{actualizarMontos:function(){this.nuevoProducto.monto_bonif=this.calculoMontoBonif,this.nuevoProducto.subtotal_sin_iva=this.calculoSubtotalSinIva,this.nuevoProducto.monto_iva=this.calculoMontoIva,this.nuevoProducto.subtotal=this.calculoSubtotal}},watch:{nuevoProductoProducto:function(){this.nuevoProductoProducto.producto_id&&(this.nuevoProducto.precio_unitario=parseFloat(this.calcularPrecioNeto(this.nuevoProducto.producto)),this.actualizarMontos())},nuevoProductoCantidad:function(){this.nuevoProducto.cantidad=parseFloat(this.nuevoProductoCantidad),this.nuevoProductoProducto.producto_id&&this.actualizarMontos()},nuevoProductoIva:function(){this.nuevoProducto.producto.producto_id&&this.nuevoProductoIva.tipo_alicuota_id&&this.actualizarMontos()},nuevoProductoBonificacion:function(){this.nuevoProducto.producto.producto_id&&this.actualizarMontos()}},computed:{nuevoProductoProducto:{get:function(){return this.nuevoProducto.producto},set:function(t){this.nuevoProducto.producto=t}},nuevoProductoPrecioUnitario:{get:function(){return this.nuevoProducto.precio_unitario},set:function(t){this.nuevoProducto.precio_unitario=t}},nuevoProductoCantidad:{get:function(){return this.nuevoProducto.cantidad},set:function(t){this.nuevoProducto.cantidad=t}},nuevoProductoIva:{get:function(){var t;return null!==(t=this.nuevoProducto.alicuota)&&void 0!==t?t:{}},set:function(t){this.nuevoProducto.alicuota=t}},nuevoProductoSubtotal:{get:function(){var t;return null!==(t=this.nuevoProducto.subtotal)&&void 0!==t?t:0},set:function(t){this.nuevoProducto.subtotal=t}},nuevoProductoSubtotalSinIva:{get:function(){var t;return null!==(t=this.nuevoProducto.subtotal_sin_iva)&&void 0!==t?t:0},set:function(t){this.nuevoProducto.subtotal_sin_iva=t}},nuevoProductoMontoIva:{get:function(){var t;return null!==(t=this.nuevoProducto.monto_iva)&&void 0!==t?t:0},set:function(t){this.nuevoProducto.monto_iva=t}},nuevoProductoMontoBonif:{get:function(){var t;return null!==(t=this.nuevoProducto.monto_bonif)&&void 0!==t?t:0},set:function(t){this.nuevoProducto.monto_bonif=t}},nuevoProductoBonificacion:{get:function(){var t;return this.parseFloatMonto(null!==(t=this.nuevoProducto.bonificacion)&&void 0!==t?t:0)},set:function(t){this.nuevoProducto.bonificacion=t}},nuevoProductoPrecioPorCantidad:function(){return this.parseFloatMonto(parseFloat(this.nuevoProductoPrecioUnitario)*this.nuevoProductoCantidad)},calculoMontoIva:function(){var t;return this.parseFloatMonto(this.nuevoProductoSubtotalSinIva*(null!==(t=this.nuevoProductoIva.valor)&&void 0!==t?t:0))},calculoMontoBonif:function(){return this.parseFloatMonto(this.nuevoProductoPrecioPorCantidad*(this.nuevoProductoBonificacion/100))},calculoSubtotalSinIva:function(){return this.parseFloatMonto(this.nuevoProductoPrecioPorCantidad-this.nuevoProductoMontoBonif)},calculoSubtotal:function(){return this.parseFloatMonto(this.nuevoProductoSubtotalSinIva+this.nuevoProductoMontoIva)}}}},abd3:function(t,e,o){},c6a6:function(t,e,o){"use strict";o("4de4"),o("7db0"),o("c975"),o("d81d"),o("45fc"),o("498a");var i=o("5530"),n=(o("2bfd"),o("b974")),a=o("8654"),s=o("d9f7"),c=o("80d2"),r=Object(i["a"])(Object(i["a"])({},n["b"]),{},{offsetY:!0,offsetOverflow:!0,transition:!1});e["a"]=n["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,o){return o.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:n["a"].options.props.menuProps.type,default:function(){return r}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var o=Object(c["r"])(e,t.itemText),i=null!=o?String(o):"";return t.filter(e,String(t.internalSearch),i)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch=t,this.$emit("update:search-input",t)}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=n["a"].options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),Object(i["a"])(Object(i["a"])({},r),t)},searchIsDirty:function(){return null!=this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(e){return t.valueComparator(t.getValue(e),t.getValue(t.internalValue))}))},listData:function(){var t=n["a"].options.computed.listData.call(this);return t.props=Object(i["a"])(Object(i["a"])({},t.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),t}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=null)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var o=this;t!==e&&(this.setMenuIndex(-1),this.$nextTick((function(){o.internalSearch&&(1===t.length||o.autoSelectFirst)&&(o.$refs.menu.getTiles(),o.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===c["y"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===c["y"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==c["y"].backspace&&t!==c["y"].delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var o=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===o){var i=this.selectedItems.length,n=t!==i-1?t:t-1,a=this.selectedItems[n];a?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=n}else this.selectedIndex=o}},clearableCallback:function(){this.internalSearch=null,n["a"].options.methods.clearableCallback.call(this)},genInput:function(){var t=a["a"].options.methods.genInput.call(this);return t.data=Object(s["a"])(t.data,{attrs:{"aria-activedescendant":Object(c["p"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(c["p"])(t.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),t},genInputSlot:function(){var t=n["a"].options.methods.genInputSlot.call(this);return t.data.attrs.role="combobox",t},genSelections:function(){return this.hasSlot||this.multiple?n["a"].options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,o=e.value;e.value&&this.activateMenu(),this.internalSearch=o,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;n["a"].options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){n["a"].options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){n["a"].options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){n["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){var e,o;if(-1!==this.selectedIndex){var i=this.selectedItems[this.selectedIndex],n=this.getText(i);null==(e=t.clipboardData)||e.setData("text/plain",n),null==(o=t.clipboardData)||o.setData("text/vnd.vuetify.autocomplete.item+plain",n),t.preventDefault()}}}})},f390:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-row",{attrs:{"no-gutters":""}},[o("v-col",{attrs:{cols:"12"}},[o("p",{staticClass:"text-lg-h6 font-weight-bold blue-grey--text text--lighten-2"},[t._v(" "+t._s(t.title)+" ")])])],1),o("div",[o("v-breadcrumbs",{attrs:{items:t.options,large:""},scopedSlots:t._u([{key:"item",fn:function(e){var i=e.item;return[o("v-breadcrumbs-item",{staticStyle:{cursor:"pointer"},attrs:{disabled:i.disabled},on:{click:function(e){return t.$router.push(i.href)}}},[t._v(" "+t._s(i.text.toUpperCase())+" ")])]}}])}),o("div",{staticClass:"d-flex"},[o("v-expansion-panels",{attrs:{multiple:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},[o("v-expansion-panel",[o("v-expansion-panel-header",[t._v("AGREGAR PEDIDO")]),o("v-expansion-panel-content",[o("v-row",[o("v-col",{staticClass:"px-5 pl-md-10",attrs:{cols:"12",sm:"6",md:"6"}},[o("v-row",[o("v-col",{attrs:{cols:"12",md:"8"}},[o("v-autocomplete",{attrs:{items:t.clientes,label:"Buscar cliente","item-text":"razon_social","item-value":"cliente_id","persistent-hint":"","hide-selected":"",dense:"","return-object":""},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(" "+t._s(e.item.razon_social)+" ")]}}]),model:{value:t.pedido.cliente,callback:function(e){t.$set(t.pedido,"cliente",e)},expression:"pedido.cliente"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-menu",{ref:"emision",attrs:{"close-on-content-click":!1,"return-value":t.pedido.fecha,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.pedido,"fecha",e)},"update:return-value":function(e){return t.$set(t.pedido,"fecha",e)}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[o("v-text-field",t._g(t._b({attrs:{rules:t.reglasValidacion.campoRequerido,label:"Fecha","prepend-icon":"event",readonly:"",dense:"",outlined:"","persistent-hint":""},model:{value:t.pedido.fecha,callback:function(e){t.$set(t.pedido,"fecha",e)},expression:"pedido.fecha"}},"v-text-field",n,!1),i))]}}]),model:{value:t.menuDate.fechaEmision,callback:function(e){t.$set(t.menuDate,"fechaEmision",e)},expression:"menuDate.fechaEmision"}},[o("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.pedido.fecha,callback:function(e){t.$set(t.pedido,"fecha",e)},expression:"pedido.fecha"}},[o("v-spacer"),o("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menuDate.fechaEmision=!1}}},[t._v("Cancelar")]),o("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.emision.save(t.pedido.fecha)}}},[t._v("OK")])],1)],1)],1),t.pedido.cliente.cliente_id?o("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[o("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[o("v-list-item",{attrs:{"two-line":""}},[o("v-list-item-content",[o("v-list-item-title",[t._v("RAZÓN SOCIAL")]),o("v-list-item-subtitle",[t._v(t._s(t.pedido.cliente.razon_social))])],1)],1),o("v-list-item",{attrs:{"two-line":""}},[o("v-list-item-content",[o("v-list-item-title",[t._v("CUIL/CUIL")]),o("v-list-item-subtitle",[t._v(t._s(t.pedido.cliente.documento))])],1)],1),o("v-list-item",{staticClass:"pb-4",attrs:{"two-line":""}},[o("v-list-item-content",[o("v-list-item-title",[t._v("TELÉFONO Y DIRECCIÓN")]),o("v-list-item-subtitle",[t._v(" "+t._s(t.pedido.cliente.telefono)+" - Calle 167 e/ 525 y 526 ")])],1)],1)],1)],1):t._e()],1)],1),t.pedido.cliente?o("v-col",{staticClass:"px-5 pr-md-10",attrs:{cols:"12",sm:"6",md:"6"}},[t.pedido.cliente.cliente_id?o("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[o("v-form",{ref:"formProducto"},[o("v-list-item",{attrs:{"two-line":""}},[o("v-list-item-content",[o("v-list-item-title",[t._v("PRODUCTO")]),o("v-autocomplete",{attrs:{rules:t.reglasValidacion.objetoVacio,items:t.productos,label:"Buscar","item-text":"descripcion","item-value":"producto_id","persistent-hint":"","hide-selected":"","return-object":"",hint:t.hint},scopedSlots:t._u([{key:"item",fn:function(e){return[o("v-list-item-content",[o("v-list-item-title",{domProps:{innerHTML:t._s(e.item.descripcion)}}),o("v-list-item-subtitle",{domProps:{innerHTML:t._s("Código: "+e.item.codigo)}})],1)]}}],null,!1,948176711),model:{value:t.nuevoProductoProducto,callback:function(e){t.nuevoProductoProducto=e},expression:"nuevoProductoProducto"}})],1)],1),o("v-list-item",{attrs:{"two-line":"",disabled:!t.nuevoProductoProducto.producto_id}},[o("v-list-item-content",[o("v-list-item-subtitle",[t._v("DATOS ADICIONALES")]),o("v-row",[o("v-col",{attrs:{cols:"12",md:t.esResponsableInscripto?"3":"4"}},[o("v-text-field",{attrs:{rules:t.reglasValidacion.cantidad,label:"Cantidad",outlined:"",placeholder:"0",min:"0.1",type:"number",dense:""},model:{value:t.nuevoProductoCantidad,callback:function(e){t.nuevoProductoCantidad=e},expression:"nuevoProductoCantidad"}})],1),o("v-col",{attrs:{cols:"12",md:t.esResponsableInscripto?"3":"4"}},[o("v-text-field",{attrs:{color:"#385F73",label:"Bonificación.(%)",outlined:"",placeholder:"0",type:"number",dense:""},model:{value:t.nuevoProductoBonificacion,callback:function(e){t.nuevoProductoBonificacion=e},expression:"nuevoProductoBonificacion"}})],1),t.esResponsableInscripto?o("v-col",{attrs:{cols:"12",md:t.esResponsableInscripto?"3":"4"}},[o("v-select",{attrs:{"persistent-hint":"",items:t.alicuotas,rules:t.reglasValidacion.objetoVacio,"item-text":"descripcion",placeholder:"0",label:"IVA(%)","hide-selected":"","return-object":"",dense:"",outlined:""},model:{value:t.nuevoProductoIva,callback:function(e){t.nuevoProductoIva=e},expression:"nuevoProductoIva"}})],1):t._e(),o("v-col",{attrs:{cols:"12",md:t.esResponsableInscripto?"3":"4"}},[o("v-text-field",{attrs:{color:"#385F73",label:"Subtotal",outlined:"",placeholder:"0",type:"number",dense:"",disabled:""},model:{value:t.nuevoProductoSubtotal,callback:function(e){t.nuevoProductoSubtotal=e},expression:"nuevoProductoSubtotal"}})],1)],1)],1)],1)],1),o("v-list-item",{attrs:{"two-line":"",disabled:!t.nuevoProductoProducto.producto_id}},[o("v-list-item-content",[o("v-btn",{attrs:{block:"",color:"#385F73",dark:""},on:{click:function(e){return t.agregarPedido()}}},[t._v("Agregar")])],1)],1)],1):t._e()],1):t._e()],1)],1)],1)],1)],1)],1),o("v-card",{staticClass:"mt-4"},[t.listado.length>0?o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-data-table",{attrs:{headers:t.headers,items:t.listado,"item-key":"producto.producto_id","show-select":"","hide-default-footer":""},scopedSlots:t._u([{key:"item.cantidad",fn:function(e){var i=e.item;return[o("span",[t._v(t._s(t._f("formatNumber")(i.cantidad)))])]}},{key:"item.precio_unitario",fn:function(e){var i=e.item;return[o("span",[t._v(t._s(t._f("formatPrecio")(i.precio_unitario)))])]}},{key:"item.monto_bonif",fn:function(e){var i=e.item;return[o("span",[t._v(t._s(t._f("formatPrecio")(i.monto_bonif)))])]}},t.esResponsableInscripto?{key:"item.monto_iva",fn:function(e){var i=e.item;return[o("span",[t._v(t._s(t._f("formatPrecio")(i.monto_iva)))])]}}:null,{key:"item.subtotal",fn:function(e){var i=e.item;return[o("span",[t._v(t._s(t._f("formatPrecio")(i.subtotal)))])]}},{key:"item.actions",fn:function(e){var i=e.item;return[o("v-icon",t._b({staticClass:"mr-2",attrs:{medium:"",color:"#385F73"},on:{click:function(e){return t.modalItemProducto(i)}}},"v-icon",i,!1),[t._v(" mdi-pencil ")]),o("v-icon",t._b({staticClass:"mr-2",attrs:{medium:"",color:"red"},on:{click:function(e){return t.eliminarItemProducto(i)}}},"v-icon",i,!1),[t._v(" mdi-close ")])]}}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),o("v-row",[o("v-col",{attrs:{cols:"12",justify:"end",align:"center"}},[o("v-col",{attrs:{cols:"12",sm:"12",md:"3","offset-md":"9"}},[o("v-btn",{attrs:{outlined:"",color:"#385F73",dark:"",block:""}},[t._v("Eliminar Seleccionados")])],1)],1),o("modal-pedido",{attrs:{dialog:t.dialog,"nuevo-producto":t.nuevoProducto,hint:t.hint,productos:t.productos,reglas:t.reglasValidacion,"tipos-ali-cuotas":t.alicuotas},on:{"cerrar-dialog":t.cerrarDialog,"editar-producto":function(e){return t.editarProducto(e)}}})],1)],1)],1):t._e()],1),t.listado.length>0?o("v-card",[o("v-row",[o("v-col",{attrs:{cols:"12",md:"",align:"right"}},[o("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[o("v-btn",{attrs:{color:"#385F73",dark:"",block:""},on:{click:function(e){t.pedidoId?t.modificarPedido():t.cargarPedido()}}},[t._v(t._s(t.pedidoId?"Modificar":"Cargar")+" Pedido")])],1)],1),o("v-col",{attrs:{cols:"12",md:"4",align:"right"}},[o("v-list-item",[o("v-list-item-content",[o("div",{staticClass:"mb-4 grey--text"},[t._v("TOTAL")]),o("v-list-item-title",{staticClass:"headline mb-1"},[t._v(t._s(t._f("formatPrecio")(t.pedido.total)))])],1)],1)],1)],1)],1):t._e()],1)},n=[],a=(o("4160"),o("c975"),o("d81d"),o("a434"),o("b64b"),o("159b"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{"max-width":"700px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-tabs",{attrs:{"background-color":"transparent",color:"#385F73",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[o("v-tab",[t._v("MODIFICAR PRODUCTO")])],1),o("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[o("v-tab-item",[o("v-card",{attrs:{flat:""}},[o("v-form",{ref:"form"},[o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",md:"3"}},[o("v-text-field",{attrs:{rules:t.reglas.cantidad,label:"Cantidad",outlined:"",min:"0.1",type:"number",dense:""},model:{value:t.nuevoProducto.cantidad,callback:function(e){t.$set(t.nuevoProducto,"cantidad",e)},expression:"nuevoProducto.cantidad"}})],1),o("v-col",{attrs:{cols:"12",md:"9"}},[o("v-autocomplete",{attrs:{items:t.productos,"return-object":"","item-text":"descripcion",label:"Descripción",hint:t.hint,placeholder:"Buscar por descripción o código",outlined:"","persistent-hint":"",dense:"",color:"#385F73"},model:{value:t.nuevoProducto.producto,callback:function(e){t.$set(t.nuevoProducto,"producto",e)},expression:"nuevoProducto.producto"}})],1),o("v-col",{attrs:{cols:"12",md:"3"}},[o("v-text-field",{attrs:{color:"#385F73",label:"Bon.(%)",outlined:"",placeholder:"0",type:"number",dense:""},model:{value:t.nuevoProducto.bonificacion,callback:function(e){t.$set(t.nuevoProducto,"bonificacion",e)},expression:"nuevoProducto.bonificacion"}})],1),t.esResponsableInscripto?o("v-col",{attrs:{cols:"12",md:"3"}},[o("v-autocomplete",{attrs:{items:t.tiposAliCuotas,"return-object":"","item-text":"descripcion",label:"IVA(%)",placeholder:"Seleccionar",outlined:"","persistent-hint":"",dense:"",color:"#385F73"},model:{value:t.nuevoProducto.iva,callback:function(e){t.$set(t.nuevoProducto,"iva",e)},expression:"nuevoProducto.iva"}})],1):t._e(),o("v-col",{attrs:{cols:"12",md:"3"}},[o("v-text-field",{attrs:{color:"#385F73",label:"Subtotal",outlined:"",placeholder:"0.0",type:"number",dense:"",disabled:""},model:{value:t.nuevoProducto.subtotal,callback:function(e){t.$set(t.nuevoProducto,"subtotal",e)},expression:"nuevoProducto.subtotal"}})],1)],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"#385F73",text:""},on:{click:t.cerrarDialog}},[t._v("Cancelar")]),o("v-btn",{attrs:{color:"#385F73",text:""},on:{click:t.editarProducto}},[t._v("MODIFICAR")])],1)],1)],1)],1)],1)],1)}),s=[],c={props:{dialog:{type:Boolean,default:!1},nuevoProducto:{type:Object,default:{}},reglas:{type:Object,default:{}},hint:{type:String,default:""}},data:function(){return{aliCuotas:[],model:null,allow:!1,tab:null,activar:!0,obligatorio:[function(t){return!!t||"Este campo es requerido"}],productos:[],tiposAliCuotas:[]}},mounted:function(){var t=this;axios.all([axios.get("productos/negocio/".concat(this.negocio.negocio_id)),axios.get("afip/tiposAliCuotas")]).then(axios.spread((function(e,o){t.productos=e.data.data,t.tiposAliCuotas=o.data.data}))).catch((function(e){t.notificacion("Ha ocurrido al cargar los datos","error")}))},methods:{editarProducto:function(){this.$refs.form.validate()&&this.$emit("editar-producto",this.nuevoProducto)},cerrarDialog:function(){this.$emit("cerrar-dialog")}},watch:{dialog:function(){this.$form&&this.$form.resetValidation()}}},r=c,l=o("2877"),u=o("6544"),d=o.n(u),h=o("c6a6"),p=o("8336"),v=o("b0af"),f=o("99d9"),m=o("62ad"),b=o("a523"),x=o("169a"),g=o("4bd4"),P=o("0fd9"),I=o("2fa4"),_=o("71a3"),S=o("c671"),C=o("fe57"),y=o("aac8"),k=o("8654"),O=Object(l["a"])(r,a,s,!1,null,null,null),D=O.exports;d()(O,{VAutocomplete:h["a"],VBtn:p["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["c"],VCol:m["a"],VContainer:b["a"],VDialog:x["a"],VForm:g["a"],VRow:P["a"],VSpacer:I["a"],VTab:_["a"],VTabItem:S["a"],VTabs:C["a"],VTabsItems:y["a"],VTextField:k["a"]});var V=o("2fa1"),w={components:{ModalPedido:D},mixins:[V["a"]],props:{pedidoId:{type:String,default:null}},data:function(){return{panel:[0],dialog:!1,indexEditable:-1,pedido:{cliente:{},fecha:(new Date).toISOString().substr(0,10),productos:[],total:0},pedidoDefault:{fecha:(new Date).toISOString().substr(0,10),productos:[]},selected:[],clientes:[],productos:[],alicuotas:[],hint:"",menuDate:{fechaEmision:!1},headers:[{text:"Descripción",align:"start",sortable:!1,value:"producto.descripcion"},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio unitario",sortable:!1,value:"precio_unitario"},{text:"Bonificacion %",sortable:!1,value:"bonificacion"},{text:"Importe Bonif.",sortable:!1,value:"monto_bonif"}],cantidadPrevia:-1}},mounted:function(){this.adapterHeader(),this.cargarDatosPedido()},methods:{cargarDatosPedido:function(){var t=this;axios.all([axios.get("clientes"),axios.get("productos/negocio/".concat(this.negocio.negocio_id)),axios.get("afip/tiposAliCuotas")]).then(axios.spread((function(e,o,i){t.clientes=e.data.data,t.productos=o.data.data,t.alicuotas=i.data.data}))),this.pedidoId&&axios.all([axios.get("ventas/pedido/".concat(this.pedidoId)),axios.get("ventas/pedido/productos/".concat(this.pedidoId))]).then(axios.spread((function(e,o){t.pedido.cliente=e.data.data.cliente,t.pedido.productos=o.data.data,t.sumarImportesTotales()})))},adapterHeader:function(){this.esResponsableInscripto&&this.headers.push({text:"IVA Aplicado",sortable:!1,value:"alicuota.descripcion"},{text:"Importe IVA",sortable:!1,value:"monto_iva"}),this.headers.push({text:"Subtotal",value:"subtotal",align:"center",sortable:!1},{text:"Acciones",value:"actions",align:"center",sortable:!1})},modalItemProducto:function(t){this.indexEditable=this.listado.indexOf(t),this.cantidadPrevia=t.cantidad,this.nuevoProducto=Object.assign({},t),this.panel=[],this.dialog=!0},reestablecer:function(){this.nuevoProducto=Object.assign({},this.nuevoProductoDefault),this.$refs.formProducto.resetValidation()},agregarPedido:function(){var t=this;this.$refs.formProducto.validate()&&(this.listado.push(Object.assign({},this.nuevoProducto)),this.actualizarStock(this.nuevoProducto,"agregar"),this.sumarImportesTotales(),this.$nextTick((function(){t.reestablecer()})))},editarProducto:function(t){t.cantidad_previa=this.cantidadPrevia,this.actualizarStock(t,"editar"),Object.assign(this.listado[this.indexEditable],t),this.sumarImportesTotales(),this.cerrarDialog()},eliminarItemProducto:function(t){var e=this;this.$swal({icon:"question",title:"¿Estás seguro que deseas eliminar este producto?",showCancelButton:!0}).then((function(o){if(o.value)if(t.producto_preventa_id)axios.delete("productoPreventa/eliminar/".concat(t.producto_preventa_id)).then((function(o){var i=e.listado.indexOf(t);e.actualizarStock(t,"eliminar"),e.listado.splice(i,1),e.sumarImportesTotales(),e.notificacion("Eliminado correctamente","success")}));else{var i=e.listado.indexOf(t);e.actualizarStock(t,"eliminar"),e.listado.splice(i,1),e.sumarImportesTotales(),e.reestablecer(),e.notificacion("Eliminado correctamente","success")}}))},cerrarDialog:function(){var t=this;this.dialog=!1,this.panel=[0],this.indexEditable=-1,this.$nextTick((function(){t.reestablecer()}))},actualizarStock:function(t,e){var o=this.productos.map((function(t){return t.producto_id})).indexOf(t.producto.producto_id);switch(e){case"agregar":this.productos[o].stock=this.productos[o].stock-t.cantidad;break;case"eliminar":this.productos[o].stock=this.productos[o].stock+t.cantidad;break;case"editar":this.productos[o].producto_id==t.producto.producto_id&&(t.cantidad_previa<t.cantidad?this.productos[o].stock=this.productos[o].stock-(t.cantidad-t.cantidad_previa):t.cantidad_previa>t.cantidad&&(this.productos[o].stock=this.productos[o].stock+(t.cantidad_previa-t.cantidad)),this.nuevoProductoProducto=this.productos[o]);break}},cargarPedido:function(){var t=this;this.$swal({title:"¿Estás seguro que deseas cargar este pedido?",showCancelButton:!0}).then((function(e){e.value&&axios.post("ventas/pedido/nuevo",t.pedido).then((function(e){201===e.data.code?(t.pedido=Object.assign({},t.pedidoDefault),t.notificacion("Cargado correctamente","success"),t.$router.push("/pedidos")):t.notificacion("Ha ocurrido un error","error")}))}))},modificarPedido:function(){var t=this;this.$swal({title:"¿Estás seguro que deseas modificar este pedido?",showCancelButton:!0}).then((function(e){e.value&&axios.put("preventas/preventa/".concat(t.pedidoId,"/editar"),t.pedido).then((function(e){200===e.data.code?(t.notificacion("Modificado correctamente","success"),t.$router.push("/pedidos")):t.notificacion("Ha ocurrido un error","error")}))}))},sumarImportesTotales:function(){var t=this;this.pedido.total=0,this.listado.forEach((function(e){t.pedido.total=t.parseFloatMonto(t.pedido.total+e.subtotal)}))}},watch:{nuevoProductoProducto:function(){this.hint=this.nuevoProductoProducto.producto_id?"Precio: $"+this.calcularPrecioNeto(this.nuevoProductoProducto)+" - Disponibles: "+this.nuevoProductoProducto.stock:""}},computed:{listado:{get:function(){return this.pedido.productos},set:function(t){this.pedido.productos=t}},options:function(){return[{text:"Pedidos",disabled:!1,href:"/pedidos"},{text:this.title,disabled:!0,href:""}]},title:function(){return this.pedidoId?"Editar Pedido":"Nuevo Pedido"},reglasValidacion:function(){var t=this;return{cantidad:[function(t){return!!t||"Este campo es requerido"},function(t){return t>0||"Debe ser mayor a 0"},function(e){return e<=t.nuevoProductoProducto.stock||"Stock no disponible"}],objetoVacio:[function(t){return Object.keys(t).length>0||"Este campo es requerido"}],campoRequerido:[function(t){return!!t||"Este campo es requerido"}]}}}},j=w,$=(o("a15b"),o("5530")),A=(o("abd3"),o("ade3")),B=o("1c87"),M=o("58df"),F=Object(M["a"])(B["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(A["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(t){var e=this.generateRouteLink(),o=e.tag,i=e.data;return t("li",[t(o,Object($["a"])(Object($["a"])({},i),{},{attrs:Object($["a"])(Object($["a"])({},i.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),E=o("80d2"),T=Object(E["i"])("v-breadcrumbs__divider","li"),R=o("7560"),L=Object(M["a"])(R["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object($["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(T,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t=[],e=!!this.$scopedSlots.item,o=[],i=0;i<this.items.length;i++){var n=this.items[i];o.push(n.text),e?t.push(this.$scopedSlots.item({item:n})):t.push(this.$createElement(F,{key:o.join("."),props:n},[n.text])),i<this.items.length-1&&t.push(this.genDivider())}return t}},render:function(t){var e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}}),z=o("8fea"),H=o("2e4b"),N=o("4e82"),q=o("3206"),U=Object(M["a"])(Object(N["a"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(q["b"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return Object($["a"])({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(t){this.content=t},unregisterContent:function(){this.content=null},registerHeader:function(t){this.header=t,t.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(t){t.detail&&this.header.$el.blur(),this.$emit("click",t),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var t=this;this.content&&(this.content.isBooted=!0),this.$nextTick((function(){return t.$emit("change")}))}},render:function(t){return t("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(E["s"])(this))}}),K=o("0789"),G=o("9d65"),J=o("a9ad"),Y=Object(M["a"])(G["a"],J["a"],Object(q["a"])("expansionPanel","v-expansion-panel-content","v-expansion-panel")),Z=Y.extend().extend({name:"v-expansion-panel-content",computed:{isActive:function(){return this.expansionPanel.isActive}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(t){var e=this;return t(K["a"],this.showLazyContent((function(){return[t("div",e.setBackgroundColor(e.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:e.isActive}]}),[t("div",{class:"v-expansion-panel-content__wrap"},Object(E["s"])(e))])]})))}}),Q=o("9d26"),W=o("5607"),X=Object(M["a"])(J["a"],Object(q["a"])("expansionPanel","v-expansion-panel-header","v-expansion-panel")),tt=X.extend().extend({name:"v-expansion-panel-header",directives:{ripple:W["a"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(t){this.$emit("click",t)},genIcon:function(){var t=Object(E["s"])(this,"actions")||[this.$createElement(Q["a"],this.expandIcon)];return this.$createElement(K["d"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},t)])}},render:function(t){var e=this;return t("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button"},directives:[{name:"ripple",value:this.ripple}],on:Object($["a"])(Object($["a"])({},this.$listeners),{},{click:this.onClick,mousedown:function(){return e.hasMousedown=!0},mouseup:function(){return e.hasMousedown=!1}})}),[Object(E["s"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}}),et=(o("0481"),o("4069"),o("210b"),o("604c")),ot=o("d9bd"),it=et["a"].extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return Object($["a"])(Object($["a"])({},et["a"].options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(ot["a"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(ot["a"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(t,e){var o=this.getValue(t,e),i=this.getValue(t,e+1);t.isActive=this.toggleMethod(o),t.nextIsActive=this.toggleMethod(i)}}}),nt=o("132d"),at=o("da13"),st=o("5d23"),ct=o("e449"),rt=o("b974"),lt=Object(l["a"])(j,i,n,!1,null,null,null);e["a"]=lt.exports;d()(lt,{VAutocomplete:h["a"],VBreadcrumbs:L,VBreadcrumbsItem:F,VBtn:p["a"],VCard:v["a"],VCol:m["a"],VDataTable:z["a"],VDatePicker:H["a"],VExpansionPanel:U,VExpansionPanelContent:Z,VExpansionPanelHeader:tt,VExpansionPanels:it,VForm:g["a"],VIcon:nt["a"],VListItem:at["a"],VListItemContent:st["a"],VListItemSubtitle:st["b"],VListItemTitle:st["c"],VMenu:ct["a"],VRow:P["a"],VSelect:rt["a"],VSpacer:I["a"],VTextField:k["a"]})}}]);
//# sourceMappingURL=chunk-b8bdcc76.6fb5e4b6.js.map