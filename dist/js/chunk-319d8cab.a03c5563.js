(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-319d8cab"],{"3a2f":function(t,e,n){"use strict";n("a9e3");var o=n("ade3"),r=(n("9734"),n("4ad4")),i=n("a9ad"),a=n("16b7"),s=n("b848"),c=n("75eb"),l=n("f573"),u=n("f2e7"),d=n("80d2"),h=n("d9bd"),f=n("58df");e["a"]=Object(f["a"])(i["a"],a["a"],s["a"],c["a"],l["a"],u["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,n=t.content,o=!this.bottom&&!this.left&&!this.top&&!this.right,r=!1!==this.attach?e.offsetLeft:e.left,i=0;return this.top||this.bottom||o?i=r+e.width/2-n.width/2:(this.left||this.right)&&(i=r+(this.right?e.width:-n.width)+(this.right?10:-10)),this.nudgeLeft&&(i-=parseInt(this.nudgeLeft)),this.nudgeRight&&(i+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(i,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,n=t.content,o=!1!==this.attach?e.offsetTop:e.top,r=0;return this.top||this.bottom?r=o+(this.bottom?e.height:-n.height)+(this.bottom?10:-10):(this.left||this.right)&&(r=o+e.height/2-n.height/2),this.nudgeTop&&(r-=parseInt(this.nudgeTop)),this.nudgeBottom&&(r+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(r+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(d["g"])(this.maxWidth),minWidth:Object(d["g"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(d["t"])(this,"activator",!0)&&Object(h["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=r["a"].options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===d["y"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(o["a"])(t,this.contentClass,!0),Object(o["a"])(t,"menuable__content__active",this.isActive),Object(o["a"])(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},8e3:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("listado-pedido")],1)},r=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("p",{staticClass:"text-lg-h6 font-weight-bold blue-grey--text text--lighten-2"},[t._v(" Pedidos "+t._s(t._f("capitalize")(t.estado))+"s ")])])],1),n("v-card",[n("v-card-title",[n("v-row",{attrs:{justify:"end"}},[n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-select",{attrs:{items:t.estados,"item-value":"codigo","item-text":"descripcion",placeholder:"Seleccione una opción",label:"Estado",dense:"",outlined:""},model:{value:t.estado,callback:function(e){t.estado=e},expression:"estado"}})],1)],1)],1),n("v-data-table",{attrs:{headers:t.headers,items:t.pedidos,search:t.search},scopedSlots:t._u([{key:"item.fecha",fn:function(e){var o=e.item;return[n("span",[t._v(t._s(t._f("formatDate")(o.fecha)))])]}},{key:"item.estado",fn:function(e){var o=e.item;return[n("v-chip",{staticClass:"ma-2 white--text",attrs:{color:t.colores[o.estado.toLowerCase()]}},[t._v(" "+t._s(t._f("capitalize")(o.estado))+" ")])]}},{key:"item.actions",fn:function(e){var o=e.item;return[n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,i=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{medium:"",color:"#385F73"},on:{click:function(e){return t.verDetalle(o)}}},"v-icon",i,!1),r),[t._v(" list_alt ")])]}}],null,!0)},[n("span",[t._v("Visualizar")])]),"PENDIENTE"==o.estado?n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,i=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{medium:"",color:"#385F73"},on:{click:function(e){return t.$router.push("/pedidos/editar/"+o.venta)}}},"v-icon",i,!1),r),[t._v(" mdi-pencil ")])]}}],null,!0)},[n("span",[t._v("Editar")])]):t._e(),"PENDIENTE"==o.estado?n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,i=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{medium:"",color:"#385F73"},on:{click:function(e){return t.cambiarEstado(o,"CANCELADO")}}},"v-icon",i,!1),r),[t._v(" auto_delete ")])]}}],null,!0)},[n("span",[t._v("Cancelar")])]):t._e(),"PENDIENTE"==o.estado?n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,i=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{medium:"",color:"#385F73"},on:{click:function(e){return t.cambiarEstado(o,"REALIZADO")}}},"v-icon",i,!1),r),[t._v(" event_available ")])]}}],null,!0)},[n("span",[t._v("Realizar")])]):t._e(),"PENDIENTE"!=o.estado?n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,i=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{medium:"",color:"#385F73"},on:{click:function(e){return t.cambiarEstado(o,"PENDIENTE")}}},"v-icon",i,!1),r),[t._v(" pending_actions ")])]}}],null,!0)},[n("span",[t._v("Volver a pendiente")])]):t._e(),"REALIZADO"==o.estado?n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,i=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{medium:"",color:"#385F73"},on:{click:function(e){return t.redirect("/facturacion/"+o.venta)}}},"v-icon",i,!1),r),[t._v(" receipt_long ")])]}}],null,!0)},[n("span",[t._v("Generar Comprobante")])]):t._e(),"CANCELADO"==o.estado?n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,i=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{medium:"",color:"#385F73"},on:{click:function(e){return t.eliminarPedido(o)}}},"v-icon",i,!1),r),[t._v(" close ")])]}}],null,!0)},[n("span",[t._v("Eliminar Pedido")])]):t._e()]}}],null,!0)}),n("modal-detalle",{attrs:{pedidoProductos:t.pedidoProductos,dialog:t.dialog},on:{closeDetalle:function(e){return t.cerrarDetalle()},descargarPDF:function(e){return t.descargar("ventas/pedido/descargar/"+t.itemPedido.venta,"pedido "+t.itemPedido.fecha+".pdf")}}}),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12",md:"12",align:"end"}},[n("v-btn",{staticClass:"mb-2 mr-md-2",attrs:{outlined:"",color:"#385F73",dark:""},on:{click:function(e){return t.$router.push("/pedidos/nuevo")}}},[t._v("Nuevo Pedido")])],1)],1)],1)],1)},a=[];n("c975"),n("a434"),n("96cf"),n("d3b7");function s(t,e,n,o,r,i,a){try{var s=t[i](a),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(o,r)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){s(i,o,r,a,c,"next",t)}function c(t){s(i,o,r,a,c,"throw",t)}a(void 0)}))}}var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{width:"600px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"justify-center"},[n("span",{staticClass:"button"},[t._v("PEDIDO")])]),n("v-card-text",[n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[t._v("Código")]),n("th",{staticClass:"text-left"},[t._v("Descripción")]),n("th",{staticClass:"text-left"},[t._v("Cantidad")])])]),n("tbody",t._l(t.pedidoProductos,(function(e){return n("tr",{key:e.producto_preventa_id},[n("td",[t._v(t._s(e.producto.codigo))]),n("td",[t._v(t._s(e.producto.descripcion))]),n("td",[t._v(t._s(e.cantidad))])])})),0)]},proxy:!0}])})],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{color:"#385F73",text:""},on:{click:function(e){return t.$emit("descargarPDF")}}},[t._v(" DESCARGAR ")]),n("v-btn",{attrs:{color:"#385F73",text:""},on:{click:function(e){return t.$emit("closeDetalle")}}},[t._v(" CERRAR ")])],1)],1)],1)],1)},u=[],d={props:{dialog:{type:Boolean,default:!1},pedidoProductos:{type:Array,default:[]}}},h=d,f=n("2877"),v=n("6544"),p=n.n(v),m=n("8336"),g=n("b0af"),y=n("99d9"),_=n("169a"),b=n("0fd9"),w=n("1f4f"),x=Object(f["a"])(h,l,u,!1,null,null,null),E=x.exports;p()(x,{VBtn:m["a"],VCard:g["a"],VCardActions:y["a"],VCardText:y["c"],VCardTitle:y["d"],VDialog:_["a"],VRow:b["a"],VSimpleTable:w["a"]});var C={components:{ModalDetalle:E},data:function(){return{colores:{pendiente:"primary",realizado:"finish",cancelado:"cancel"},totales:[],headers:[{text:"Fecha de Pedido",align:"center",sortable:!1,value:"fecha"},{text:"Cliente",align:"center",value:"cliente"},{text:"Estado",align:"center",value:"estado"},{text:"Acciones",value:"actions",align:"center",sortable:!1}],estado:"PENDIENTE",estados:[],editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},search:"",model:null,allow:!1,tab:null,dialog:!1,pedidoProductos:[],itemPedido:null,pedidos:[]}},mounted:function(){this.cargarDatos()},methods:{listadoEstados:function(){return axios.get("ventas/estados").then((function(t){return t.data.data}))},listadoPedidos:function(){return axios.get("ventas/pedidos/".concat(this.estado)).then((function(t){return t.data.data}))},cargarDatos:function(){var t=this;return c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.listadoEstados();case 2:return t.estados=e.sent,e.next=5,t.listadoPedidos();case 5:t.pedidos=e.sent;case 6:case"end":return e.stop()}}),e)})))()},cambiarEstado:function(t,e){var n=this;this.$swal({icon:"warning",title:"¿Estás seguro que deseas cambiar el estado de este pedido?",showCancelButton:!0}).then((function(o){o.value&&axios.put("ventas/pedido/estado/".concat(t.venta),{codigo:e}).then((function(t){200==t.data.code&&(n.estado=e,n.notificacion("El pedido cambio a ".concat(e,"."),"success"))}))}))},eliminarPedido:function(t){var e=this;this.$swal({icon:"warning",title:"¿Estás seguro que deseas eliminar este pedido?",showCancelButton:!0}).then((function(n){n.value&&axios.put("ventas/pedido/eliminar/".concat(t.venta)).then((function(n){if(200==n.data.code){var o=e.pedidos.indexOf(t);e.pedidos.splice(o,1),e.notificacion("Pedido eliminado correctamente.","success")}}))}))},verDetalle:function(t){var e=this;this.itemPedido=t,axios.get("ventas/pedido/productos/".concat(t.venta)).then((function(t){e.pedidoProductos=t.data.data,e.dialog=!0}))},cerrarDetalle:function(){this.dialog=!1,this.itemPedido=null}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Producto":"Editar Producto"}},watch:{estado:function(){var t=this;return c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.listadoPedidos();case 2:t.pedidos=e.sent;case 3:case"end":return e.stop()}}),e)})))()}}},k=C,L=n("cc20"),P=n("62ad"),D=n("8fea"),O=n("132d"),A=n("b974"),T=n("3a2f"),j=Object(f["a"])(k,i,a,!1,null,null,null),N=j.exports;p()(j,{VBtn:m["a"],VCard:g["a"],VCardTitle:y["d"],VChip:L["a"],VCol:P["a"],VDataTable:D["a"],VIcon:O["a"],VRow:b["a"],VSelect:A["a"],VTooltip:T["a"]});var S={components:{ListadoPedido:N}},I=S,F=Object(f["a"])(I,o,r,!1,null,null,null);e["default"]=F.exports},"96cf":function(t,e,n){var o=function(t){"use strict";var e,n=Object.prototype,o=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(j){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var r=e&&e.prototype instanceof m?e:m,i=Object.create(r.prototype),a=new O(o||[]);return i._invoke=k(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(j){return{type:"throw",arg:j}}}t.wrap=l;var d="suspendedStart",h="suspendedYield",f="executing",v="completed",p={};function m(){}function g(){}function y(){}var _={};_[i]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&o.call(w,i)&&(_=w);var x=y.prototype=m.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(r,i,a,s){var c=u(t[r],t,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"===typeof d&&o.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var r;function i(t,o){function i(){return new e((function(e,r){n(t,o,e,r)}))}return r=r?r.then(i,i):i()}this._invoke=i}function k(t,e,n){var o=d;return function(r,i){if(o===f)throw new Error("Generator is already running");if(o===v){if("throw"===r)throw i;return T()}n.method=r,n.arg=i;while(1){var a=n.delegate;if(a){var s=L(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var c=u(t,e,n);if("normal"===c.type){if(o=n.done?v:h,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=v,n.method="throw",n.arg=c.arg)}}}function L(t,n){var o=t.iterator[n.method];if(o===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function A(t){if(t){var n=t[i];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){while(++r<t.length)if(o.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return g.prototype=x.constructor=y,y.constructor=g,g.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(C.prototype),C.prototype[a]=function(){return this},t.AsyncIterator=C,t.async=function(e,n,o,r,i){void 0===i&&(i=Promise);var a=new C(l(e,n,o,r),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(x),c(x,s,"Generator"),x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},t.values=A,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(o,r){return s.type="throw",s.arg=t,n.next=o,r&&(n.method="next",n.arg=e),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;D(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:A(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=o}catch(r){Function("r","regeneratorRuntime = r")(o)}},9734:function(t,e,n){}}]);
//# sourceMappingURL=chunk-319d8cab.a03c5563.js.map