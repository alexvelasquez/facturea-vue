(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3ab1"],{"5e6a":function(a,t,e){"use strict";e.r(t);var c=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("marcas-component")],1)},r=[],o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{attrs:{cols:"12"}},[e("p",{staticClass:"text-lg-h6 font-weight-bold blue-grey--text text--lighten-2"},[a._v("Marcas")])])],1),e("v-card",[e("v-card-title",[e("v-col",{attrs:{cols:"6",sm:"4"}},[e("v-row",[e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar Marcas","single-line":"","hide-details":""},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1)],1),e("v-spacer")],1),e("v-data-table",{attrs:{headers:a.cabeceras,"item-key":"marca_id",items:a.marcas,search:a.search,"show-select":""},scopedSlots:a._u([{key:"item.actions",fn:function(t){var c=t.item;return[e("v-tooltip",{attrs:{top:""},scopedSlots:a._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[e("v-icon",a._g(a._b({staticClass:"mr-2",attrs:{medium:"",color:"#385F73"},on:{click:function(t){return a.modalMarca(c)}}},"v-icon",o,!1),r),[a._v(" mdi-pencil ")])]}}],null,!0)},[e("span",[a._v("Editar")])])]}}],null,!0),model:{value:a.seleccionados,callback:function(t){a.seleccionados=t},expression:"seleccionados"}}),e("v-row",{attrs:{id:"actions-productos"}},[e("v-col",{attrs:{cols:"12",sm:"12",md:"12",align:"end"}},[a.seleccionados.length>0?e("v-btn",{staticClass:"mb-2 mr-md-2",attrs:{outlined:"",color:"#385F73",dark:""},on:{click:a.eliminarSeleccionados}},[a._v("ELIMINAR SELECCIONADOS ")]):a._e(),e("modal-aumento",{attrs:{marcas:a.marcas}}),e("v-btn",{staticClass:"mb-2 mr-md-2",attrs:{outlined:"",color:"#385F73",dark:""},on:{click:function(t){return a.$router.push("/productos")}}},[a._v("IR A PRODUCTOS ")]),e("modal-marca",{attrs:{editable:a.editable,dialog:a.dialog,marca:a.itemMarca},on:{"cerrar-dialog":a.close,"agregar-marca":function(t){return a.agregarMarca(t)},"editar-marca":function(t){return a.editarMarca(t)}}}),a.marcas.length>0?e("v-btn",{staticClass:"mb-2 mr-md-2",attrs:{outlined:"",color:"#385F73",dark:""},on:{click:function(t){return a.exportar("marcas/exportar/"+a.negocio.negocio_id,"listado_marcas.pdf")}}},[a._v("EXPORTAR")]):a._e()],1)],1)],1)],1)},i=[],n=(e("4160"),e("c975"),e("a434"),e("159b"),function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-dialog",{attrs:{"max-width":"500px",persistent:""},scopedSlots:a._u([{key:"activator",fn:function(t){var c=t.on,r=t.attrs;return[e("v-btn",a._g(a._b({staticClass:"mb-2 mr-md-2",attrs:{outlined:"",color:"#385F73",dark:""}},"v-btn",r,!1),c),[a._v("Nueva Marca")])]}}]),model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[e("v-card",[e("v-tabs",{attrs:{"background-color":"transparent",color:"#385F73",grow:""},model:{value:a.tab,callback:function(t){a.tab=t},expression:"tab"}},[e("v-tab",{on:{click:function(t){a.tabImpor=!1}}},[a._v(a._s(a.editable?"MODIFICAR MARCA":"NUEVA MARCA"))])],1),e("v-tabs-items",{model:{value:a.tab,callback:function(t){a.tab=t},expression:"tab"}},[e("v-tab-item",[e("v-card",{attrs:{flat:""}},[e("v-form",{ref:"form"},[e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{staticClass:"pt-md-0",attrs:{cols:"12",sm:"12",md:"12"}},[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-text-field",{attrs:{label:"Nombre",color:"#385F73",placeholder:"nombre de la marca",rules:a.obligatorio,outlined:"",dense:""},model:{value:a.itemMarca.descripcion,callback:function(t){a.$set(a.itemMarca,"descripcion",t)},expression:"itemMarca.descripcion"}})],1)],1)],1)],1)],1)],1)],1),e("v-card-actions",{staticClass:"pt-md-0"},[e("v-spacer"),e("v-btn",{attrs:{color:"#385F73",text:""},on:{click:function(t){return a.$emit("cerrar-dialog")}}},[a._v("Cancelar")]),a.editable?e("v-btn",{attrs:{color:"#385F73",text:""},on:{click:a.editarMarca}},[a._v("MODIFICAR")]):e("v-btn",{attrs:{color:"#385F73",text:""},on:{click:a.agregarMarca}},[a._v("AGREGAR")])],1)],1)],1)],1)],1)],1)}),s=[],l={props:{busqueda:!1,marca:{type:Object,default:{}},dialog:{type:Boolean},editable:{type:Boolean}},data:function(){return{model:null,tab:null,tabImpor:!1,obligatorio:[function(a){return!!a||"Este campo es requerido"}]}},methods:{agregarMarca:function(){this.$refs.form.validate()&&(this.$emit("agregar-marca",this.itemMarca),this.dialog=!1)},editarMarca:function(){this.$refs.form.validate()&&(this.$emit("editar-marca",this.itemMarca),this.dialog=!1)}},watch:{marca:function(){this.$refs.form&&!this.editable&&this.$refs.form.reset()}},computed:{itemMarca:function(){return this.marca}}},d=l,u=e("2877"),m=e("6544"),f=e.n(m),v=e("8336"),b=e("b0af"),h=e("99d9"),p=e("62ad"),g=e("a523"),x=e("169a"),M=e("4bd4"),_=e("0fd9"),C=e("2fa4"),k=e("71a3"),V=e("c671"),w=e("fe57"),E=e("aac8"),O=e("8654"),A=Object(u["a"])(d,n,s,!1,null,null,null),$=A.exports;f()(A,{VBtn:v["a"],VCard:b["a"],VCardActions:h["a"],VCardText:h["c"],VCol:p["a"],VContainer:g["a"],VDialog:x["a"],VForm:M["a"],VRow:_["a"],VSpacer:C["a"],VTab:k["a"],VTabItem:V["a"],VTabs:w["a"],VTabsItems:E["a"],VTextField:O["a"]});var F=e("6c7b"),I={components:{ModalMarca:$,ModalAumento:F["a"]},data:function(){return{dialog:!1,cabeceras:[{text:"Código",align:"center",sortable:!0,value:"codigo"},{text:"Descripción",value:"descripcion"},{text:"Acciones",value:"actions",align:"center",sortable:!1}],marcas:[],search:"",indexEditable:-1,seleccionados:[],itemMarca:{},defaultMarca:{},options:[{text:"Productos Y Servicios",disabled:!1,href:"/productos"},{text:"Marcas",disabled:!0,href:""}]}},mounted:function(){this.cargarMarcas()},methods:{cargarMarcas:function(){var a=this;axios.get("marcas/negocio/".concat(this.negocio.negocio_id)).then((function(t){a.marcas=t.data.data})).catch((function(t){a.notificacion("Ha ocurrido al recuperar las marcas","error")}))},agregarMarca:function(a){var t=this;axios.post("marcas/nuevo",a).then((function(a){t.marcas.push(a.data.data),t.notificacion("Marca agregada correctamente","success")})).catch((function(a){t.notificacion("Ha ocurrido al agregar la marca","error")}))},editarMarca:function(a){var t=this;this.$swal({title:"¿Estas seguro que deseas modificarla?",showCancelButton:!0}).then((function(e){e.value&&(t.dialog=!1,axios.put("marcas/editar/".concat(a.marca_id),a).then((function(a){Object.assign(t.marcas[t.indexEditable],a.data.data),t.notificacion("Marca modificada correctamente","success"),t.close()})).catch((function(a){t.notificacion("Ha ocurrido al modificar la marca","error")})))}))},eliminarMarca:function(a){var t=this;this.$swal({icon:"question",title:"¿Estas seguro que deseas eliminar esta marca?",showCancelButton:!0}).then((function(e){e.value&&axios.put("marcas/eliminar/".concat(a.marca_id)).then((function(e){var c=t.marcas.indexOf(a);t.marcas.splice(c,1),t.notificacion("Eliminado correctamente","success")})).catch((function(a){t.notificacion("Ha ocurrido un error al eliminar la marca","error")}))}))},eliminarSeleccionados:function(){var a=this;this.$swal({icon:"question",title:"¿Estas seguro que deseas eliminar las marcas seleccionadas?",showCancelButton:!0}).then((function(t){t.value&&axios.put("marcas/eliminarMarcas",{marcas:JSON.stringify(a.seleccionados)}).then((function(t){a.seleccionados.forEach((function(t){return a.marcas.splice(a.marcas.indexOf(t),1)})),a.notificacion("Eliminados correctamente","success")})).catch((function(t){a.notificacion("Ha ocurrido un error","error")}))}))},modalMarca:function(a){this.indexEditable=this.marcas.indexOf(a),this.itemMarca=Object.assign({},a),this.dialog=!0},close:function(){var a=this;this.dialog=!1,this.indexEditable=-1,this.$nextTick((function(){a.itemMarca=Object.assign({},a.defaultMarca)}))}},computed:{editable:function(){return this.indexEditable>-1}}},R=I,T=e("8fea"),S=e("132d"),y=e("3a2f"),B=Object(u["a"])(R,o,i,!1,null,null,null),j=B.exports;f()(B,{VBtn:v["a"],VCard:b["a"],VCardTitle:h["d"],VCol:p["a"],VDataTable:T["a"],VIcon:S["a"],VRow:_["a"],VSpacer:C["a"],VTextField:O["a"],VTooltip:y["a"]});var q={components:{MarcasComponent:j}},D=q,N=Object(u["a"])(D,c,r,!1,null,null,null);t["default"]=N.exports}}]);
//# sourceMappingURL=chunk-2d0d3ab1.6ee33152.js.map