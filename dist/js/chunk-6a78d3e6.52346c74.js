(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a78d3e6"],{"0160":function(t,e,i){},"0961":function(t,e,i){"use strict";var n=i("70b0"),a=i.n(n);a.a},1681:function(t,e,i){},"70b0":function(t,e,i){},a68c:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("cuenta-corriente",{attrs:{clienteId:t.cliente}})],1)},a=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-row",{attrs:{"no-gutters":"",justify:"space-between"}},[i("v-col",{attrs:{cols:"6"}},[i("p",{staticClass:"text-lg-h6 font-weight-bold blue-grey--text text--lighten-2"},[t._v(" Cuenta Corriente ")])]),i("v-col",{attrs:{cols:"4",align:"end"}},[i("v-btn",{attrs:{color:"#385F73",text:""},on:{click:function(e){return t.$router.push("/clientes")}}},[t._v("Volver")])],1)],1),t.cuentaCorriente?i("v-row",[i("v-col",{attrs:{cols:"12",md:"7",lg:"7"}},[i("v-card",{staticClass:"mt-15",staticStyle:{"border-left":"5px solid #385f73"}},[i("v-card-title",{staticClass:"overline justify-left"},[t._v(t._s(t.cuentaCorriente.cliente.razon_social)+" "),i("br")]),i("v-card-subtitle",{staticClass:"overline text-center"},[t._v(" Saldo a Pagar ")]),i("v-card-text",{staticClass:"text-center text-h5"},[i("span",{staticClass:"caption"},[t._v("$")]),t._v(" "+t._s(t.cuentaCorriente.monto?t.cuentaCorriente.monto:0))]),i("v-card-actions",{staticClass:"justify-end"},[i("modal-pago",{on:{abonar:function(e){return t.abonar(e)}}})],1)],1)],1),i("v-col",{attrs:{cols:"12",md:"5",lg:"5"}},[i("v-card",{staticClass:"overflow-y-auto",attrs:{"max-height":"400"}},[i("v-card-title",{staticClass:"overline justify-center",attrs:{dark:""}},[i("span"),t._v("Últimos Movimientos ")]),i("v-card-text",[t.cuentaCorriente.movimientos.length?i("v-timeline",{attrs:{dense:"",clipped:""}},t._l(t.cuentaCorriente.movimientos,(function(e,n){return n<t.cantMovimientos?i("v-timeline-item",{key:e.cuenta_corriente_id,staticClass:"mb-4",attrs:{color:"grey",small:""}},[i("v-row",{attrs:{justify:"space-between"}},[i("v-col",{attrs:{cols:"7"}},[t._v(t._s(t._f("descripMovimiento")(e.tipo_movimiento.codigo)))]),i("v-col",{staticClass:"text-center",attrs:{cols:"5"}},[i("span",[t._v(t._s("AUMENTO"===e.tipo_movimiento.codigo?"+":"-")+" "+t._s(t._f("formatPrecio")(parseFloat(e.valor))))]),t._v(" "),i("br"),i("span",[t._v(" "+t._s(t._f("formatDateTime")(e.f_creacion)))])])],1)],1):t._e()})),1):i("div",{staticClass:"text-center"},[i("span",[t._v(" No hay movimientos disponibles")])])],1),t.cuentaCorriente.movimientos.length?i("v-card-actions",{staticClass:"justify-center"},[i("v-btn",{staticClass:"overline",attrs:{text:""},on:{click:function(e){t.cantMovimientos=t.cantMovimientos+10}}},[t._v(" Ver mas ")])],1):t._e()],1)],1)],1):t._e()],1)},s=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{"max-width":"500px","max-height":"100px",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"mb-2 mr-md-2",attrs:{outlined:"",color:"#385F73",dark:""},on:{click:function(e){t.dialog=!0}}},"v-btn",a,!1),n),[t._v("ABONAR")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-tabs",{attrs:{"background-color":"transparent",color:"#385F73",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab",[t._v("ABONAR")])],1),i("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",[i("v-card",{attrs:{flat:""}},[i("v-form",{ref:"form"},[i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[i("v-text-field",{attrs:{label:"Monto a abonar",rules:t.requerido,placeholder:"0",type:"number",hint:"Este campo es obligatorio","persistent-hint":"",outlined:"",dense:""},model:{value:t.movimiento.valor,callback:function(e){t.$set(t.movimiento,"valor",e)},expression:"movimiento.valor"}})],1),i("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[i("v-textarea",{attrs:{height:"120px",label:"Observación",placeholder:"...",outlined:"",dense:""},model:{value:t.movimiento.observacion,callback:function(e){t.$set(t.movimiento,"observacion",e)},expression:"movimiento.observacion"}})],1)],1)],1)],1)],1),i("v-card-actions",{staticClass:"pt-md-0"},[i("v-spacer"),i("v-btn",{attrs:{color:"#385F73",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar")]),i("v-btn",{attrs:{color:"#385F73",text:""},on:{click:function(e){return t.abonar()}}},[t._v("Abonar")])],1)],1)],1)],1)],1)],1)},l=[],c={data:function(){return{tab:null,dialog:!1,movimiento:{valor:null,observacion:null},requerido:[function(t){return!!t||"Este campo es requerido"}]}},methods:{abonar:function(){this.$refs.form.validate()&&(this.$emit("abonar",this.movimiento),this.dialog=!1)}}},u=c,d=i("2877"),v=i("6544"),m=i.n(v),h=i("8336"),f=i("b0af"),p=i("99d9"),g=i("62ad"),b=i("a523"),C=i("169a"),_=i("4bd4"),x=i("0fd9"),w=i("2fa4"),y=i("71a3"),V=i("c671"),$=i("fe57"),k=i("aac8"),I=i("8654"),j=i("a844"),T=Object(d["a"])(u,r,l,!1,null,null,null),B=T.exports;m()(T,{VBtn:h["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["c"],VCol:g["a"],VContainer:b["a"],VDialog:C["a"],VForm:_["a"],VRow:x["a"],VSpacer:w["a"],VTab:y["a"],VTabItem:V["a"],VTabs:$["a"],VTabsItems:k["a"],VTextField:I["a"],VTextarea:j["a"]});var O={components:{ModalPago:B},props:{clienteId:{type:String}},data:function(){return{cuentaCorriente:null,cantMovimientos:10}},mounted:function(){this.loadCuentaCorriente()},methods:{loadCuentaCorriente:function(){var t=this;axios.get("clientes/cuentaCorriente/".concat(this.clienteId)).then((function(e){t.cuentaCorriente=e.data.data}))},abonar:function(t){var e=this;t.cuenta_corriente=this.cuentaCorriente.cuenta_corriente_id,axios.post("movimientos/agregar",t).then((function(t){200==t.data.code&&(console.log(Object.assign({},t.data.data)),e.$nextTick((function(){e.cuentaCorriente=Object.assign({},t.data.data)})),e.notificacion("Abonado Correctamente","success"))})).catch((function(){e.notificacion("Ha ocurrido un error","error")}))}}},D=O,E=(i("0961"),i("5530")),H=(i("0160"),i("58df")),F=i("7560"),S=Object(H["a"])(F["a"]).extend({name:"v-timeline",provide:function(){return{timeline:this}},props:{alignTop:Boolean,dense:Boolean,reverse:Boolean},computed:{classes:function(){return Object(E["a"])({"v-timeline--align-top":this.alignTop,"v-timeline--dense":this.dense,"v-timeline--reverse":this.reverse},this.themeClasses)}},render:function(t){return t("div",{staticClass:"v-timeline",class:this.classes},this.$slots.default)}}),M=(i("c96a"),i("9d26")),N=i("a9ad"),A=Object(H["a"])(N["a"],F["a"]),R=A.extend().extend({name:"v-timeline-item",inject:["timeline"],props:{color:{type:String,default:"primary"},fillDot:Boolean,hideDot:Boolean,icon:String,iconColor:String,large:Boolean,left:Boolean,right:Boolean,small:Boolean},computed:{hasIcon:function(){return!!this.icon||!!this.$slots.icon}},methods:{genBody:function(){return this.$createElement("div",{staticClass:"v-timeline-item__body"},this.$slots.default)},genIcon:function(){return this.$slots.icon?this.$slots.icon:this.$createElement(M["a"],{props:{color:this.iconColor,dark:!this.theme.isDark,small:this.small}},this.icon)},genInnerDot:function(){var t=this.setBackgroundColor(this.color);return this.$createElement("div",Object(E["a"])({staticClass:"v-timeline-item__inner-dot"},t),[this.hasIcon&&this.genIcon()])},genDot:function(){return this.$createElement("div",{staticClass:"v-timeline-item__dot",class:{"v-timeline-item__dot--small":this.small,"v-timeline-item__dot--large":this.large}},[this.genInnerDot()])},genDivider:function(){var t=[];return this.hideDot||t.push(this.genDot()),this.$createElement("div",{staticClass:"v-timeline-item__divider"},t)},genOpposite:function(){return this.$createElement("div",{staticClass:"v-timeline-item__opposite"},this.$slots.opposite)}},render:function(t){var e=[this.genBody(),this.genDivider()];return this.$slots.opposite&&e.push(this.genOpposite()),t("div",{staticClass:"v-timeline-item",class:Object(E["a"])({"v-timeline-item--fill-dot":this.fillDot,"v-timeline-item--before":this.timeline.reverse?this.right:this.left,"v-timeline-item--after":this.timeline.reverse?this.left:this.right},this.themeClasses)},e)}}),z=Object(d["a"])(D,o,s,!1,null,null,null),G=z.exports;m()(z,{VBtn:h["a"],VCard:f["a"],VCardActions:p["a"],VCardSubtitle:p["b"],VCardText:p["c"],VCardTitle:p["d"],VCol:g["a"],VRow:x["a"],VTimeline:S,VTimelineItem:R});var P={components:{CuentaCorriente:G},computed:{cliente:function(){var t;return null!==(t=this.$route.params.cliente)&&void 0!==t?t:null}}},q=P,J=Object(d["a"])(q,n,a,!1,null,null,null);e["default"]=J.exports},a844:function(t,e,i){"use strict";i("a9e3");var n=i("5530"),a=(i("1681"),i("8654")),o=i("58df"),s=Object(o["a"])(a["a"]);e["a"]=s.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(n["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},a["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"}},genInput:function(){var t=a["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){a["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})}}]);
//# sourceMappingURL=chunk-6a78d3e6.52346c74.js.map